<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Narrative Viz Project - Zubair Lalani</title>

    <script src='https://d3js.org/d3.v5.min.js'></script>
    <script src="scripts/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js"></script>
    
    <link rel="stylesheet" href="styles/style.css"> 
    <style>
        #wordcloud {
            font-family: "Arial", sans-serif;
            width: 800px;
            height: 500px;
            margin: auto;
            border: 1px solid #ccc;
        }
    </style>

</head>

<body>
    <p>
        Okay so we see that 100,000 happy moments seem to fall pretty neatly into about 7 categories, with ____, _____, and ______ being the most common. But the users reported happy moments within both the past 24 hours and the past 3 months.
        So is there a difference in what constitutes a "happy moment" in the short term versus the long term?
    </p>

    <div>
        <label for="ageDropdown">Select Age Group:</label>
        <select id="ageDropdown">
            <option value="all">All Ages</option>
            <option value="12-18">12-18</option>
            <option value="19-25">19-25</option>
            <option value="26-35">26-35</option>
            <option value="36-50">36-50</option>
            <option value="51-90">51-90</option>
            <option value="misc">All other ages</option>
        </select>
    </div>

    <div>
        <label for="splitTime">SplitTime?:</label>
        <input type="checkbox" id="splitTime" checked>
    </div>

    <div id="chart"></div>
    <script>
        
        const splitTimeParam = d3.select("#splitTime").property("checked");

        chart(splitByTime=splitTimeParam);

        d3.select("#ageDropdown").on("change", function() {
            const chartSelection = d3.select("#chart").selectAll("*").remove();
            const selectedAgeGroup = d3.select(this).property("value");
            const splitBy = d3.select("#splitTime").property("checked");
            chart(splitByTime=splitBy, age=selectedAgeGroup);
        });

        d3.select("#splitTime").on("change", function() {
            const chartSelection = d3.select("#chart").selectAll("*").remove();
            const splitBy = d3.select("#splitTime").property("checked");
            const selectedAgeGroup = d3.select("#ageDropdown").property("value");

            chart(splitByTime=splitBy, age=selectedAgeGroup);
        });

    </script>

    <button id="goPrev">Previous</button>
    <script>
        document.getElementById("goPrev").addEventListener("click", function() {
            window.location.href = "index.html";
        });
    </script>

</body>
